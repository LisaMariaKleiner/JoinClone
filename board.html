<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/board.css">
    <script src="./js/storage.js"></script>
    <script src="./js/login.js"></script>
    <script src="/js/logout.js"></script>
    <script src="./js/add_task.js"></script>
    <script src="./js/script.js"></script>
</head>
<body onload="init(); updateHTML()">
    <header w3-include-html="./assets/templates/header_template.html"></header>
    <nav w3-include-html="./assets/templates/sidenav_template.html"></nav>
    <section>
        <div class="complete_board_container">
           <div class="title_search_add_container">    
               <div class="board_header">
                    <div class="board">
                        <h1>Board</h1>
                    </div> 

                    <div class="search_and_add_container">
                        <div class="board_section">
                            <input type="text" class="board_section_input" placeholder="Find Task"> 
                            <img src="./assets/img/search.png" alt="">
                        </div>

                        <div class="add_container">
                            <button onclick="moveAddTaskCard('open')" class="primary_button">Add task<img src="./assets/img/add_white.png" alt=""></button>
                        </div>
                    </div>
               </div>
                <div class="task_list_headlines">
                    <div class="progress_button">
                        <span>To do</span>
                        <button class="board_add_button"><img src="./assets/img/add_blue.png" alt=""></button>
                    </div>
                    <div class="progress_button">
                        <span>In progress</span>
                        <button class="board_add_button"><img src="./assets/img/add_blue.png" alt=""></button>
                    </div>
                    <div class="progress_button">
                        <span>Await feedback</span>
                        <button class="board_add_button"><img src="./assets/img/add_blue.png" alt=""></button>
                    </div>
                    <div class="progress_button">
                        <span>Done</span>
                    </div>
                </div>
            </div> 

            
            <div class="progressbar">
                <div class="progress_container">

                    <div class="drag_area" id="to_do" ondrop="moveTo('toDo', 'to_do')" ondragleave="removeHighlight('to_do')" ondragover="allowDrop(event); highlight('to_do')">
                        <div class="no_tasks_to_do">
                            <span>No tasks To do</span>
                        </div>
                    </div>
                </div>

                <div class="progress_container">
                    
                    <div class="drag_area" id="in_progress" ondrop="moveTo('inProgress', 'in_progress')" ondragleave="removeHighlight('in_progress')" ondragover="allowDrop(event); highlight('in_progress')">
                        <div class="no_tasks_to_do">
                            <span>No task is in progress</span>
                        </div>
                    </div>
                </div>

                <div class="progress_container">
                    
                    <div class="drag_area" id="await_feedback" ondrop="moveTo('awaitFeedback', 'await_feedback')" ondragleave="removeHighlight('await_feedback')" ondragover="allowDrop(event); highlight('await_feedback')">
                        <div class="no_tasks_to_do" style="display: none;">
                            <span>No task awaits feedback</span>
                        </div>
                        
                    </div>
                </div>

                <div class="progress_container">
                    
                    <div class="drag_area" id="done" ondrop="moveTo('done', 'done')" ondragleave="removeHighlight('done')" ondragover="allowDrop(event); highlight('done')">
                        <div class="no_tasks_to_do">
                            <span>No task is done</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="add_task_card" class="add_task_background">
        <div class="add_task_slide_card">
            <div class="headline_container">
                <h1>
                    Add Task
                </h1>
                <button onclick="moveAddTaskCard('close')" class="close_add_task_button"></button>
            </div>
    
            <form action="">
                <div class="left_inputs">
                    <div class="title">
                        <div class="highlighted_object">
                            <span>Title</span>
                            <p class="highlighted">*</p>
                        </div>
                        <input id="title_input" type="text" class="title_input" placeholder="Enter a title"> 
                    </div>
                    <div class="description title">
                        <span>Description</span>
                        <textarea id="description_textarea" class="title_input" placeholder="Enter a Description" name="" id="" cols="30" rows="10"></textarea>
                    </div>
                    <div class="assigned_to title">
                        <span>Assigned to</span>
                        <input id="assigned_to_input" class="title_input" list="select_contacts">
                        <datalist id="select_contacts">
                            <option value="Internet Explorer">
                            <option value="Firefox">
                            <option value="Google Chrome">
                            <option value="Opera">
                            <option value="Safari">
                          </datalist>
                    </div>
                </div>
    
                <div class="seperator"></div>
    
                <div class="right_inputs">
                    <div class="title">
                        <div class="highlighted_object">
                            <span>Due date</span>
                            <p class="highlighted">*</p>
                        </div>
                        <input id="date_input" type="date" class="title_input" placeholder="" value="dd-mm-yyy"> 
                    </div>
                    <div class="title">
                        <span>Prio</span>
                        <div class="prio_container">
                            <div class="prio">
                                <button>
                                    <span>Urgent</span>
                                    <img src="./assets/img/prio_alta.png" alt="">
                                </button>
                            </div>
                            <div class="prio">
                                <button>
                                    <span>Medium</span>
                                    <img src="./assets/img/prio_media.png" alt="">
                                </button>
                            </div>
                            <div class="prio">
                                <button>
                                    <span>Low</span>
                                    <img src="./assets/img/prio_baja.png" alt="">
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="title">
                        <div class="highlighted_object">
                            <span>Category</span>
                            <p class="highlighted">*</p>
                        </div>
                        <input id="task_category_input" class="title_input" list="Select task category">
                        <datalist id="Select task category">
                            <option value="Technical task">
                            <option value="User story">
                          </datalist>
                    </div>
                    <div class="title">
                        <span>Subtasks</span>
                        <div class="subtasks">
                            <input id="subtask_category_input" type="text" class="title_input" placeholder="Add new subtask"> 
                            <img src="./assets/img/add.png" alt="">
                        </div>
                    </div>
                </div>
            </form>
            
            <div class="add_task_footer">
                <div class="highlighted_object">
                    <p class="highlighted">*</p>
                    <span>This field is required</span>
                </div>
                <div class="button_container">
                    <button onclick="moveAddTaskCard('close')" class="secondary_button">Cancel <img src="./assets/img/x.png" alt=""></button>
                    <button onclick="createNewTask()" class="primary_button">Create Task <img src="./assets/img/done.png" alt=""></button>
                </div>
            </div>
        </div>
    </div>
    <div id="success_feedback" class="signed_up_successfully_background without_background">
        <div class="signed_up_successfully">
            <span>Tasked added to Board <img src="./assets/img/board.png" alt="Board Icon"></span>
        </div>
    </div>
    <div id="task_card_opened">
        <div id="current_task_card">
            <h3 class="user_story">User Story</h3>
            <div class="close_button_container" onclick="openTaskDetailsCard(false, 'close')">
                <img src="./assets/img/x.png" alt="Close Card">
            </div>
            <h2 id="task_title">Title</h2>
            <p id="task_description">Description</p>
            <div>
                <span>Date: </span>
                <span id="task_date"></span>
            </div>
            <div>
                <span>Priority: </span>
                <span id="task_priority"></span>
            </div>

            <div>
                <span>Assigned To: </span>
            </div>
            <div>
                <span>Subtasks</span>
                <div class="subtask_container">
                    <div class="subtask">
                        <input type="checkbox" name="" id="subtask_checkbox" class="subtask_checkbox">
                        <label for="subtask_checkbox"></label>
                        <span>SUBTASK</span>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</body>
</html>